---
layout: layouts/base.njk
showSidebar: true
---

{# Index layout - for chapter/section index pages #}

{{ content | safe }}

{# Auto-generated table of contents for this section #}
{% if children and children.length > 0 %}
<section class="mt-8">
  <h2 class="text-2xl font-bold mb-4">Contenido</h2>
  <nav class="space-y-2">
    {% for child in children %}
    <div class="flex items-start p-3 rounded-lg bg-bg-secondary hover:bg-bg-tertiary transition-colors">
      <span class="text-accent font-mono text-sm mr-3 mt-1">{{ child.order | default(loop.index) }}.</span>
      <div class="flex-1">
        <a href="{{ child.url | url }}" class="text-text hover:text-accent font-medium block">
          {{ child.title }}
        </a>
        {% if child.summary %}
        <p class="text-text-muted text-sm mt-1">{{ child.summary }}</p>
        {% endif %}
      </div>
    </div>
    {% endfor %}
  </nav>
</section>
{% endif %}

{# Code files in this section #}
{% if codeFiles and codeFiles.length > 0 %}
<section class="mt-8">
  <h2 class="text-2xl font-bold mb-4">Codigo</h2>
  <div class="space-y-2">
    {% for file in codeFiles %}
    <div class="flex items-center p-3 rounded-lg bg-code-bg">
      <span class="text-accent-secondary mr-3">[.py]</span>
      <a href="{{ file.url | url }}" class="text-text hover:text-accent font-mono">{{ file.name }}</a>
    </div>
    {% endfor %}
  </div>
</section>
{% endif %}
